import{_ as ae}from"./_plugin-vue_export-helper.d6168fc5.js";/* empty css                        *//* empty css                  *//* empty css                   *//* empty css                    *//* empty css               *//* empty css                  *//* empty css                     */import"./el-tooltip.4ed993c7.js";/* empty css                        *//* empty css                       *//* empty css                     */import{i as le}from"./index.93dc7d7c.js";/* empty css                   */import{d as oe,r as d,o as ne,Z as se,_ as ie,c as U,e as t,w as a,$ as re,a9 as ue,g as y,k as n,b as s,aa as de,v as F,H as w,ab as ce,ac as pe,m as b,K as me,a2 as _e,p as fe,a3 as ve,a4 as ge,s as he,E as we,ad as be,ae as ye,af as Ce,ag as Ee,ah as Te,q as ke,ai as Se,aj as xe}from"./main.5e21a3e6.js";const Ve={class:"content-list"},De={class:"card-header"},ze={class:"header-right"},Be={class:"content-title"},Ue={class:"title-info"},Fe={class:"main-title"},Le={class:"sub-info"},Re={class:"pagination-container"},Me={class:"dialog-footer"},Ae=oe({__name:"ContentList",setup(Ie){const i=d({dateRange:"",tag:"",contentType:""}),C=d(!1),E=d(1),T=d(10),L=d(300),v=d(!1),g=d([]),_=d({channels:[],time:""}),k=new Map,h=new Map,x=d([{id:1,title:"人工智能技术在现代生活中的应用",cover:"https://picsum.photos/300/200?random=1",creator:"科技前沿",publishTime:"2024-01-10 12:00:00",tags:["科技","人工智能","前沿技术"],contentType:"文章",flowStatus:"上升",contentStatus:[30,40,35,50,49,60,70]},{id:2,title:"2024年最受欢迎的旅行地的TOP10",cover:"https://picsum.photos/300/200?random=2",creator:"旅行达人",publishTime:"2024-01-09 15:30:00",tags:["生活","旅行","攻略"],contentType:"图文",flowStatus:"下降",contentStatus:[70,65,60,55,50,45,40]},{id:3,title:"健康饮食指南：如何科学搭配每日营养",cover:"https://picsum.photos/300/200?random=3",creator:"营养师小王",publishTime:"2024-01-09 09:15:00",tags:["健康","饮食","生活"],contentType:"文章",flowStatus:"上升",contentStatus:[20,25,30,45,50,55,60]},{id:4,title:"最新款智能手机深度评测视频",cover:"https://picsum.photos/300/200?random=4",creator:"数码评测",publishTime:"2024-01-08 18:20:00",tags:["科技","数码","评测"],contentType:"视频",flowStatus:"上升",contentStatus:[40,45,50,60,65,70,75]},{id:5,title:"30分钟快速健身操教程",cover:"https://picsum.photos/300/200?random=5",creator:"健身教练Amy",publishTime:"2024-01-08 14:30:00",tags:["运动","健身","教程"],contentType:"视频",flowStatus:"上升",contentStatus:[50,55,60,65,70,75,80]}]),R=[{text:"最近一周",value:()=>{const o=new Date,e=new Date;return e.setTime(e.getTime()-3600*1e3*24*7),[e,o]}},{text:"最近一月",value:()=>{const o=new Date,e=new Date;return e.setTime(e.getTime()-3600*1e3*24*30),[e,o]}}],M=(o,e)=>{o&&k.set(e,o)},A=()=>{x.value.forEach(o=>{const e=k.get(o.id);if(e){const p=le(e),c={animation:!1,grid:{left:0,right:0,top:0,bottom:0},xAxis:{type:"category",show:!1,boundaryGap:!1},yAxis:{type:"value",show:!1},series:[{type:"line",data:o.contentStatus,smooth:!0,symbol:"none",lineStyle:{color:"#409EFF"},areaStyle:{color:"rgba(64,158,255,0.2)"}}]};p.setOption(c),h.set(o.id,p)}})},I=()=>{console.log("搜索条件：",i.value),C.value=!0,setTimeout(()=>{C.value=!1},1e3)},P=()=>{i.value={dateRange:"",tag:"",contentType:""}},$=()=>{if(g.value.length===0){b.warning("请选择要添加的内容");return}console.log("批量添加内容：",g.value),b.success("添加成功")},G=()=>{if(g.value.length===0){b.warning("请选择要分发的内容");return}v.value=!0},N=()=>{console.log("分发内容：",{contents:g.value,distribute:_.value}),v.value=!1,b.success("分发成功")},O=o=>{g.value=o},j=o=>{console.log("查看内容：",o)},q=o=>{console.log("编辑内容：",o)},H=async o=>{try{await me.confirm("确定要删除这条内容吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),console.log("删除内容：",o),b.success("删除成功")}catch{}},K=o=>{T.value=o},W=o=>{E.value=o},Z=(o,e)=>{const p=o.target;p.src="https://via.placeholder.com/150"};return ne(()=>{se(()=>{A()}),window.addEventListener("resize",()=>{h.forEach(o=>o.resize())})}),ie(()=>{h.forEach(o=>o.dispose()),h.clear(),k.clear(),window.removeEventListener("resize",()=>{h.forEach(o=>o.resize())})}),(o,e)=>{const p=_e,c=fe,f=ve,V=ge,r=he,D=we,z=re,m=be,J=ye,B=Ce,Q=Ee,X=Te,S=ke,Y=Se,ee=ue,te=xe;return y(),U("div",Ve,[t(z,{class:"filter-container"},{default:a(()=>[t(D,{inline:!0,model:i.value},{default:a(()=>[t(c,{label:"时间周期"},{default:a(()=>[t(p,{modelValue:i.value.dateRange,"onUpdate:modelValue":e[0]||(e[0]=l=>i.value.dateRange=l),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",shortcuts:R},null,8,["modelValue"])]),_:1}),t(c,{label:"标签"},{default:a(()=>[t(V,{modelValue:i.value.tag,"onUpdate:modelValue":e[1]||(e[1]=l=>i.value.tag=l),placeholder:"请选择标签"},{default:a(()=>[t(f,{label:"科技",value:"tech"}),t(f,{label:"生活",value:"life"}),t(f,{label:"娱乐",value:"entertainment"})]),_:1},8,["modelValue"])]),_:1}),t(c,{label:"内容类型"},{default:a(()=>[t(V,{modelValue:i.value.contentType,"onUpdate:modelValue":e[2]||(e[2]=l=>i.value.contentType=l),placeholder:"请选择内容类型"},{default:a(()=>[t(f,{label:"文章",value:"article"}),t(f,{label:"视频",value:"video"}),t(f,{label:"图片",value:"image"})]),_:1},8,["modelValue"])]),_:1}),t(c,null,{default:a(()=>[t(r,{type:"primary",onClick:I},{default:a(()=>e[9]||(e[9]=[n("查询",-1)])),_:1,__:[9]}),t(r,{onClick:P},{default:a(()=>e[10]||(e[10]=[n("重置",-1)])),_:1,__:[10]})]),_:1})]),_:1},8,["model"])]),_:1}),t(z,null,{header:a(()=>[s("div",De,[e[13]||(e[13]=s("span",null,"内容列表",-1)),s("div",ze,[t(r,{type:"primary",onClick:$},{default:a(()=>e[11]||(e[11]=[n("一键内容池添加操作",-1)])),_:1,__:[11]}),t(r,{type:"success",onClick:G},{default:a(()=>e[12]||(e[12]=[n("批量分发",-1)])),_:1,__:[12]})])])]),default:a(()=>[de((y(),F(Q,{data:x.value,style:{width:"100%"},onSelectionChange:O},{default:a(()=>[t(m,{type:"selection",width:"55"}),t(m,{label:"标题","min-width":"300"},{default:a(l=>[s("div",Be,[t(J,{src:l.row.cover,"preview-src-list":[l.row.cover],fit:"cover",class:"content-image",onError:u=>Z(u,l.row)},null,8,["src","preview-src-list","onError"]),s("div",Ue,[s("div",Fe,w(l.row.title),1),s("div",Le,[s("span",null,"创作者："+w(l.row.creator),1),s("span",null,"发布时间："+w(l.row.publishTime),1)])])])]),_:1}),t(m,{label:"标签",width:"150"},{default:a(l=>[(y(!0),U(ce,null,pe(l.row.tags,u=>(y(),F(B,{key:u,size:"small",class:"tag-item"},{default:a(()=>[n(w(u),1)]),_:2},1024))),128))]),_:1}),t(m,{prop:"contentType",label:"内容类型",width:"100"}),t(m,{label:"流量状态",width:"120"},{default:a(l=>[t(B,{type:l.row.flowStatus==="上升"?"success":"danger"},{default:a(()=>[n(w(l.row.flowStatus),1)]),_:2},1032,["type"])]),_:1}),t(m,{label:"内容状态变化",width:"200"},{default:a(l=>[s("div",{class:"mini-chart",ref:u=>M(u,l.row.id)},null,512)]),_:1}),t(m,{label:"操作",width:"200",fixed:"right"},{default:a(l=>[t(r,{type:"primary",link:"",onClick:u=>j(l.row)},{default:a(()=>e[14]||(e[14]=[n("查看",-1)])),_:2,__:[14]},1032,["onClick"]),t(r,{type:"primary",link:"",onClick:u=>q(l.row)},{default:a(()=>e[15]||(e[15]=[n("编辑",-1)])),_:2,__:[15]},1032,["onClick"]),t(r,{type:"danger",link:"",onClick:u=>H(l.row)},{default:a(()=>e[16]||(e[16]=[n("删除",-1)])),_:2,__:[16]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[te,C.value]]),s("div",Re,[t(X,{"current-page":E.value,"onUpdate:currentPage":e[3]||(e[3]=l=>E.value=l),"page-size":T.value,"onUpdate:pageSize":e[4]||(e[4]=l=>T.value=l),"page-sizes":[10,20,50,100],total:L.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:K,onCurrentChange:W},null,8,["current-page","page-size","total"])])]),_:1}),t(ee,{modelValue:v.value,"onUpdate:modelValue":e[8]||(e[8]=l=>v.value=l),title:"批量分发",width:"40%"},{footer:a(()=>[s("span",Me,[t(r,{onClick:e[7]||(e[7]=l=>v.value=!1)},{default:a(()=>e[20]||(e[20]=[n("取消",-1)])),_:1,__:[20]}),t(r,{type:"primary",onClick:N},{default:a(()=>e[21]||(e[21]=[n("确定",-1)])),_:1,__:[21]})])]),default:a(()=>[t(D,{model:_.value,"label-width":"100px"},{default:a(()=>[t(c,{label:"分发渠道"},{default:a(()=>[t(Y,{modelValue:_.value.channels,"onUpdate:modelValue":e[5]||(e[5]=l=>_.value.channels=l)},{default:a(()=>[t(S,{label:"web"},{default:a(()=>e[17]||(e[17]=[n("Web端",-1)])),_:1,__:[17]}),t(S,{label:"app"},{default:a(()=>e[18]||(e[18]=[n("App端",-1)])),_:1,__:[18]}),t(S,{label:"wechat"},{default:a(()=>e[19]||(e[19]=[n("微信小程序",-1)])),_:1,__:[19]})]),_:1},8,["modelValue"])]),_:1}),t(c,{label:"分发时间"},{default:a(()=>[t(p,{modelValue:_.value.time,"onUpdate:modelValue":e[6]||(e[6]=l=>_.value.time=l),type:"datetime",placeholder:"选择分发时间"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});const et=ae(Ae,[["__scopeId","data-v-2a18de5c"]]);export{et as default};
